import{j as e}from"./jsx-runtime-u17CrQMm.js";import{I as a}from"./Icon-CFZCLKt0.js";import{M as d}from"./Motion-DxXHqm4t.js";import{c as m}from"./index-goBt61iM.js";import{r as u}from"./iframe-KW6RtBM2.js";import{P as x,a as g,b as y,j as i}from"./popover-DUPQEFUd.js";const f=({task:s,onUpdate:o,availableCategories:n,badgeClass:l})=>{const[r,c]=u.useState(s.category||""),p=n.filter(t=>t.toLowerCase().includes(r.toLowerCase())&&t!==r).slice(0,5)||[];return e.jsxs(x,{children:[e.jsx(g,{asChild:!0,children:e.jsxs("button",{className:m(l,"text-slate-600 bg-slate-100 border-slate-200"),title:"Change Category",children:[e.jsx(a,{name:"Folder",size:10}),e.jsx("span",{children:s.category||"No Category"})]})}),e.jsx(y,{side:"bottom",align:"start",sideOffset:4,className:"z-9999 outline-none w-48 p-2",children:e.jsxs(d,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[e.jsx("input",{autoFocus:!0,value:r,onChange:t=>c(t.target.value),onKeyDown:t=>{t.key==="Enter"&&o({...s,category:r})},className:"w-full text-xs border border-slate-200 rounded px-2 py-1 mb-2 focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"Category name..."}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[p.map(t=>e.jsx(i,{asChild:!0,children:e.jsxs("button",{onClick:()=>o({...s,category:t}),className:"text-left px-2 py-1.5 text-xs text-slate-600 hover:opacity-80 rounded flex items-center gap-2 justify-start!",children:[e.jsx(a,{name:"Folder",size:10,className:"opacity-50"}),t]})},t)),e.jsx(i,{asChild:!0,children:e.jsxs("button",{onClick:()=>o({...s,category:r}),className:"text-center px-2 py-1.5 text-xs text-blue-600! hover:opacity-80 rounded font-medium mt-1",children:['Set to "',r,'"']})})]})]})})]})};f.__docgenInfo={description:"",methods:[],displayName:"CategoryPopover",props:{task:{required:!0,tsType:{name:"Task"},description:""},onUpdate:{required:!0,tsType:{name:"signature",type:"function",raw:"(task: Task) => void",signature:{arguments:[{type:{name:"Task"},name:"task"}],return:{name:"void"}}},description:""},availableCategories:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},badgeClass:{required:!0,tsType:{name:"string"},description:""}}};export{f as C};
