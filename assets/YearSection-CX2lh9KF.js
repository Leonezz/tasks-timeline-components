import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r}from"./iframe-KW6RtBM2.js";import{D as d}from"./DaySection-C_XPnI8d.js";import{c}from"./index-goBt61iM.js";import{I as m}from"./Icon-CFZCLKt0.js";import{a as x}from"./SettingsContext-CelCWxaL.js";import{C as h,a as p,b as f}from"./collapsible-h46-68d_.js";import{m as a}from"./proxy-B9VYbwnC.js";import{A as u}from"./index-6uNkXKNh.js";const j=({group:s})=>{const{settings:l}=x(),[t,o]=r.useState(!0),i=Math.round(s.completedTasks/s.totalTasks*100)||0;return e.jsx("div",{className:"mb-4",children:e.jsxs(h,{open:t,onOpenChange:o,children:[e.jsx(p,{asChild:!0,children:e.jsxs("button",{className:"w-full text-left mb-1.5 group outline-none",children:[e.jsxs("div",{className:"flex items-end justify-between mb-1",children:[e.jsxs("div",{className:"flex items-baseline gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a.div,{animate:{rotate:t?90:0},transition:{duration:.2},className:"text-slate-400",children:e.jsx(m,{name:"ChevronRight",size:20})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter group-hover:text-blue-600 transition-colors",children:s.year})]}),e.jsxs("div",{className:"text-xs text-slate-400 font-mono hidden sm:inline-block",children:[e.jsx("span",{className:"text-rose-500 font-bold",children:s.totalTasks-s.completedTasks})," ","unfinished tasks in"," ",e.jsx("span",{className:"text-rose-500 font-bold",children:s.dayGroups.length})," ","active days."]})]}),e.jsx("div",{className:"flex items-center gap-2 pb-1",children:e.jsxs("span",{className:"text-[10px] text-slate-400 font-mono",children:[s.completedTasks," / ",s.totalTasks]})})]}),l.showProgressBar&&e.jsx("div",{className:"relative h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:e.jsx(a.div,{className:c("absolute top-0 left-0 h-full rounded-full",i===100?"bg-emerald-400":"bg-slate-800"),initial:{width:0},animate:{width:`${i}%`},transition:{duration:1,ease:"easeOut"}})})]})}),e.jsx(u,{initial:!1,children:t&&e.jsx(f,{forceMount:!0,asChild:!0,children:e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.4,ease:"easeInOut"},className:"overflow-hidden",children:s.dayGroups.map(n=>e.jsx(d,{group:n},n.date))})})})]})})};j.__docgenInfo={description:"",methods:[],displayName:"YearSection",props:{group:{required:!0,tsType:{name:"YearGroup"},description:""}}};export{j as Y};
