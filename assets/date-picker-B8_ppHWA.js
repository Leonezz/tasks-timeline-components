import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as o}from"./iframe-Kgc_7zLZ.js";import{B as S,C as N}from"./calendar-CUwZWpfv.js";import{P as V,a as C,b as P}from"./popover-DjtUOgMF.js";import{c as M}from"./rruleset-Bu4wjl4G.js";import{D as p}from"./datetime-CoIMkCUY.js";import{C as T}from"./chevron-right-B-ma7AbP.js";function k({value:a,onChange:i,placeholder:f="Pick a date",className:x,disabled:b,showTime:r=!1}){const[j,g]=o.useState(!1),[l,y]=o.useState("00:00"),e=a?p.fromISO(a):null,u=e?.isValid?e.toJSDate():void 0;o.useEffect(()=>{e?.isValid&&r&&y(e.toFormat("HH:mm"))},[a,e,r]);const v=n=>{if(!n){i("");return}let s=p.fromJSDate(n);if(r&&l){const[m,c]=l.split(":").map(Number);s=s.set({hour:m,minute:c})}const d=r?s.toISO()||"":s.toISODate()||"";i(d),r||g(!1)},h=n=>{const s=n.target.value;if(y(s),u){const[d,m]=s.split(":").map(Number),c=p.fromJSDate(u).set({hour:d,minute:m});i(c.toISO()||"")}},D=o.useMemo(()=>e?.isValid?r?e.toFormat("MMM dd, yyyy HH:mm"):e.toFormat("MMM dd, yyyy"):f,[e,f,r]);return t.jsxs(V,{open:j,onOpenChange:g,children:[t.jsx(C,{asChild:!0,children:t.jsxs(S,{variant:"outline",disabled:b,className:M("w-full justify-start text-left font-normal",!a&&"text-muted-foreground",x),children:[t.jsx(T,{className:"mr-2 h-4 w-4"}),D]})}),t.jsxs(P,{className:"w-auto p-0",align:"start",children:[t.jsx(N,{mode:"single",selected:u,onSelect:v,initialFocus:!0}),r&&t.jsxs("div",{className:"border-t border-border p-3",children:[t.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Time"}),t.jsx("input",{type:"time",value:l,onChange:h,className:"w-full px-3 py-2 bg-background border border-input rounded-md text-sm focus:ring-2 focus:ring-ring focus:border-ring outline-none"})]})]})]})}k.__docgenInfo={description:"",methods:[],displayName:"DatePicker",props:{value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Pick a date"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},showTime:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{k as D};
