import{j as d}from"./jsx-runtime-u17CrQMm.js";import{r as A}from"./iframe-Kgc_7zLZ.js";import{T as jt}from"./TodoList-CYtxEfM9.js";import{I as Rt}from"./InputBar-gHoDCLpC.js";import{S as Pt}from"./SettingsModal-BevgANeH.js";import{T as Bt}from"./TaskEditModal-CWIPY4KZ.js";import{T as qt}from"./Toast-BYNB5E_m.js";import{c as re}from"./rruleset-Bu4wjl4G.js";import{d as it}from"./BacklogSection-C5AlQU2g.js";import{l as y}from"./logger-CDMKXnH4.js";import{I as je}from"./Icon-By9zMJNh.js";import{A as _t}from"./AppContext-BcElN5Q4.js";import{T as Lt,S as Yt}from"./SettingsContext-BtnD2K3E.js";import{M as mt}from"./Motion-CW3vvHgC.js";import{g as gt,a as Vt}from"./TaskItem-DDYIp0OZ.js";import{c as $t}from"./SettingsPageAdvanced-D8UUueyw.js";import{A as Gt}from"./index-CWxNNgDm.js";import{w as J,d as Z}from"./test-utils-BNouzmjp.js";import{t as Kt}from"./tasks-D2syl_55.js";import"./preload-helper-PPVm8Dsz.js";import"./datetime-CoIMkCUY.js";import"./YearSection-DcAzDmAN.js";import"./DaySection-DROAYMK8.js";import"./useVoiceInput-Dg_ZUbda.js";import"./collapsible-DuspuQi1.js";import"./popover-DjtUOgMF.js";import"./index-DSe7XrAg.js";import"./index-BCiHuJZ4.js";import"./proxy-D_7yqafd.js";import"./SettingsPage-baADrkma.js";import"./SettingsPageGeneral-BQIXQKw9.js";import"./index-Do2GVLpJ.js";import"./date-picker-B8_ppHWA.js";import"./calendar-CUwZWpfv.js";import"./chevron-right-B-ma7AbP.js";import"./DateBadge-VIrexBWK.js";import"./TagBadge-DdjIChl0.js";import"./PriorityPopover-CEwfVsCu.js";import"./CategoryPopover-DU8vkvJF.js";const Wt=A.createContext(null),$e={didCatch:!1,error:null};class Ge extends A.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=$e}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(...t){const{error:s}=this.state;s!==null&&(this.props.onReset?.({args:t,reason:"imperative-api"}),this.setState($e))}componentDidCatch(t,s){this.props.onError?.(t,s)}componentDidUpdate(t,s){const{didCatch:n}=this.state,{resetKeys:r}=this.props;n&&s.error!==null&&zt(t.resetKeys,r)&&(this.props.onReset?.({next:r,prev:t.resetKeys,reason:"keys"}),this.setState($e))}render(){const{children:t,fallbackRender:s,FallbackComponent:n,fallback:r}=this.props,{didCatch:l,error:a}=this.state;let i=t;if(l){const u={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof s=="function")i=s(u);else if(n)i=A.createElement(n,u);else if(r!==void 0)i=r;else throw a}return A.createElement(Wt.Provider,{value:{didCatch:l,error:a,resetErrorBoundary:this.resetErrorBoundary}},i)}}function zt(e=[],t=[]){return e.length!==t.length||e.some((s,n)=>!Object.is(s,t[n]))}const Xt=()=>[{name:"create_task",description:"Creates a new task with given properties.",parameters:{type:"object",properties:{title:{type:"string",description:"The title of the task."},description:{type:"string",description:"Additional details about the task."},priority:{type:"string",description:"Task priority: low, medium, or high.",enum:["low","medium","high"]},dueAt:{type:"string",description:"ISO 8601 date string (YYYY-MM-DD)."},category:{type:"string",description:"The organizational category."},tags:{type:"array",items:{type:"string"},description:"A list of tag names."}},required:["title"]}},{name:"query_tasks",description:"Queries existing tasks based on filters.",parameters:{type:"object",properties:{status:{type:"string",description:"Filter by task status.",enum:["done","scheduled","todo","due","overdue","cancelled","unplanned","doing"]},date:{type:"string",description:"Filter by date (YYYY-MM-DD)."},search:{type:"string",description:"Search term for task title."}}}},{name:"update_task",description:"Updates properties of an existing task.",parameters:{type:"object",properties:{id:{type:"string",description:"The unique ID of the task to update."},title:{type:"string"},description:{type:"string"},status:{type:"string",enum:["done","scheduled","todo","due","overdue","cancelled","unplanned","doing"]},priority:{type:"string",enum:["low","medium","high"]},dueAt:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}}},required:["id"]}},{name:"delete_task",description:"Deletes a task by its ID.",parameters:{type:"object",properties:{id:{type:"string",description:"The ID of the task to delete."}},required:["id"]}}],Ht=()=>`You are a task management assistant. You help users create, query, update, and delete tasks.

## Task Schema
Tasks have these fields:
- title (string, required): The task name
- description (string): Additional details
- status: One of "todo", "doing", "done", "cancelled" (set explicitly), or derived: "overdue", "due", "scheduled", "unplanned"
- priority: "low", "medium", or "high"
- dueAt (string): Due date in YYYY-MM-DD format
- startAt (string): Start date in YYYY-MM-DD format
- category (string): Organizational category
- tags (array of strings): Tag labels

## Status Rules
- "done" and "cancelled" are terminal states, set explicitly
- "overdue", "due", "scheduled", "doing", "unplanned" are derived from dates automatically
- When creating tasks, set status to "todo" — the system derives the display status

## Date Handling
- Always use YYYY-MM-DD format for dates
- Today is ${gt()}
- Interpret relative dates: "tomorrow", "next week", "in 3 days", etc.

## Tool Usage
- ALWAYS use query_tasks first before updating or deleting tasks to get their IDs
- When asked to modify tasks by criteria (e.g., "all tasks due next week"), query first
- Confirm what you did after each action

## Response Style
- Be concise and helpful
- After performing actions, briefly confirm what was done
- If a request is ambiguous, ask for clarification`;class Qt{name="Local Browser Settings";settingsKey="tasks_timeline_settings_data";settingsSaveTimeout=null;async loadSettings(){const t=localStorage.getItem(this.settingsKey);if(!t)return null;try{const s=JSON.parse(t);return y.debug("Storage","Loaded settings from local storage."),s}catch(s){return y.error("Storage","Failed to parse settings",s),null}}async saveSettings(t){return this.settingsSaveTimeout&&window.clearTimeout(this.settingsSaveTimeout),new Promise(s=>{this.settingsSaveTimeout=window.setTimeout(()=>{try{localStorage.setItem(this.settingsKey,JSON.stringify(t)),y.debug("Storage","Persisted settings."),this.settingsSaveTimeout=null,s()}catch(n){y.error("Storage","Failed to save settings",n),s()}},500)})}}const ze=e=>e instanceof Error?e.message:typeof e=="string"?e:"An unknown error occurred",kt=({error:e,resetErrorBoundary:t})=>d.jsxs(mt,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-8 text-center space-y-4 max-w-md mx-auto",children:[d.jsx("div",{className:"text-rose-500 flex justify-center",children:d.jsx(je,{name:"AlertTriangle",size:48})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Something went wrong"}),d.jsx("p",{className:"text-sm text-slate-600 mt-2 font-mono bg-slate-50 p-3 rounded border border-slate-200",children:ze(e)})]}),d.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"Try Again"})]}),yt=({error:e,resetErrorBoundary:t})=>d.jsx(mt,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 bg-rose-50 border border-rose-200 rounded-lg mx-4 mb-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"text-rose-600 mt-0.5",children:d.jsx(je,{name:"AlertCircle",size:20})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-semibold text-rose-900 text-sm",children:"AI Command Failed"}),d.jsx("p",{className:"text-sm text-rose-700 mt-1",children:ze(e)}),d.jsx("button",{onClick:t,className:"text-xs text-rose-600 underline mt-2 hover:text-rose-800",children:"Dismiss"})]})]})}),Tt=({error:e,resetErrorBoundary:t})=>d.jsxs("div",{className:"p-6 text-center space-y-4",children:[d.jsx("div",{className:"text-rose-500 flex justify-center",children:d.jsx(je,{name:"XCircle",size:40})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-base text-slate-900",children:"Failed to load modal"}),d.jsx("p",{className:"text-xs text-slate-600 mt-2 font-mono bg-slate-50 p-2 rounded border border-slate-200",children:ze(e)})]}),d.jsx("button",{onClick:t,className:"px-3 py-1.5 text-sm bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Close"})]});kt.__docgenInfo={description:"",methods:[],displayName:"TaskListErrorFallback"};yt.__docgenInfo={description:"",methods:[],displayName:"AIErrorFallback"};Tt.__docgenInfo={description:"",methods:[],displayName:"ModalErrorFallback"};var q="INUMBER",de="IOP1",ue="IOP2",ce="IOP3",G="IVAR",Q="IVARNAME",oe="IFUNCALL",Re="IFUNDEF",R="IEXPR",Xe="IEXPREVAL",ee="IMEMBER",Pe="IENDSTATEMENT",ie="IARRAY";function T(e,t){this.type=e,this.value=t??0}T.prototype.toString=function(){switch(this.type){case q:case de:case ue:case ce:case G:case Q:case Pe:return this.value;case oe:return"CALL "+this.value;case Re:return"DEF "+this.value;case ie:return"ARRAY "+this.value;case ee:return"."+this.value;default:return"Invalid Instruction"}};function Be(e){return new T(de,e)}function W(e){return new T(ue,e)}function vt(e){return new T(ce,e)}function We(e,t,s,n,r){for(var l=[],a=[],i,u,f,g,h=0;h<e.length;h++){var o=e[h],k=o.type;if(k===q||k===Q)Array.isArray(o.value)?l.push.apply(l,We(o.value.map(function(p){return new T(q,p)}).concat(new T(ie,o.value.length)),t,s,n,r)):l.push(o);else if(k===G&&r.hasOwnProperty(o.value))o=new T(q,r[o.value]),l.push(o);else if(k===ue&&l.length>1)u=l.pop(),i=l.pop(),g=s[o.value],o=new T(q,g(i.value,u.value)),l.push(o);else if(k===ce&&l.length>2)f=l.pop(),u=l.pop(),i=l.pop(),o.value==="?"?l.push(i.value?u.value:f.value):(g=n[o.value],o=new T(q,g(i.value,u.value,f.value)),l.push(o));else if(k===de&&l.length>0)i=l.pop(),g=t[o.value],o=new T(q,g(i.value)),l.push(o);else if(k===R){for(;l.length>0;)a.push(l.shift());a.push(new T(R,We(o.value,t,s,n,r)))}else if(k===ee&&l.length>0)i=l.pop(),l.push(new T(q,i.value[o.value]));else{for(;l.length>0;)a.push(l.shift());a.push(o)}}for(;l.length>0;)a.push(l.shift());return a}function wt(e,t,s){for(var n=[],r=0;r<e.length;r++){var l=e[r],a=l.type;if(a===G&&l.value===t)for(var i=0;i<s.tokens.length;i++){var u=s.tokens[i],f;u.type===de?f=Be(u.value):u.type===ue?f=W(u.value):u.type===ce?f=vt(u.value):f=new T(u.type,u.value),n.push(f)}else a===R?n.push(new T(R,wt(l.value,t,s))):n.push(l)}return n}function H(e,t,s){var n=[],r,l,a,i,u,f;if(He(e))return $(e,s);for(var g=e.length,h=0;h<g;h++){var o=e[h],k=o.type;if(k===q||k===Q)n.push(o.value);else if(k===ue)l=n.pop(),r=n.pop(),o.value==="and"?n.push(r?!!H(l,t,s):!1):o.value==="or"?n.push(r?!0:!!H(l,t,s)):o.value==="="?(i=t.binaryOps[o.value],n.push(i(r,H(l,t,s),s))):(i=t.binaryOps[o.value],n.push(i($(r,s),$(l,s))));else if(k===ce)a=n.pop(),l=n.pop(),r=n.pop(),o.value==="?"?n.push(H(r?l:a,t,s)):(i=t.ternaryOps[o.value],n.push(i($(r,s),$(l,s),$(a,s))));else if(k===G)if(o.value in t.functions)n.push(t.functions[o.value]);else if(o.value in t.unaryOps&&t.parser.isOperatorEnabled(o.value))n.push(t.unaryOps[o.value]);else{var p=s[o.value];if(p!==void 0)n.push(p);else throw new Error("undefined variable: "+o.value)}else if(k===de)r=n.pop(),i=t.unaryOps[o.value],n.push(i($(r,s)));else if(k===oe){for(f=o.value,u=[];f-- >0;)u.unshift($(n.pop(),s));if(i=n.pop(),i.apply&&i.call)n.push(i.apply(void 0,u));else throw new Error(i+" is not a function")}else if(k===Re)n.push((function(){for(var w=n.pop(),j=[],E=o.value;E-- >0;)j.unshift(n.pop());var N=n.pop(),L=function(){for(var M=Object.assign({},s),P=0,Y=j.length;P<Y;P++)M[j[P]]=arguments[P];return H(w,t,M)};return Object.defineProperty(L,"name",{value:N,writable:!1}),s[N]=L,L})());else if(k===R)n.push(Jt(o,t));else if(k===Xe)n.push(o);else if(k===ee)r=n.pop(),n.push(r[o.value]);else if(k===Pe)n.pop();else if(k===ie){for(f=o.value,u=[];f-- >0;)u.unshift(n.pop());n.push(u)}else throw new Error("invalid Expression")}if(n.length>1)throw new Error("invalid Expression (parity)");return n[0]===0?0:$(n[0],s)}function Jt(e,t,s){return He(e)?e:{type:Xe,value:function(n){return H(e.value,t,n)}}}function He(e){return e&&e.type===Xe}function $(e,t){return He(e)?e.value(t):e}function Qe(e,t){for(var s=[],n,r,l,a,i,u,f=0;f<e.length;f++){var g=e[f],h=g.type;if(h===q)typeof g.value=="number"&&g.value<0?s.push("("+g.value+")"):Array.isArray(g.value)?s.push("["+g.value.map(lt).join(", ")+"]"):s.push(lt(g.value));else if(h===ue)r=s.pop(),n=s.pop(),a=g.value,t?a==="^"?s.push("Math.pow("+n+", "+r+")"):a==="and"?s.push("(!!"+n+" && !!"+r+")"):a==="or"?s.push("(!!"+n+" || !!"+r+")"):a==="||"?s.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+n+"),("+r+")))"):a==="=="?s.push("("+n+" === "+r+")"):a==="!="?s.push("("+n+" !== "+r+")"):a==="["?s.push(n+"[("+r+") | 0]"):s.push("("+n+" "+a+" "+r+")"):a==="["?s.push(n+"["+r+"]"):s.push("("+n+" "+a+" "+r+")");else if(h===ce)if(l=s.pop(),r=s.pop(),n=s.pop(),a=g.value,a==="?")s.push("("+n+" ? "+r+" : "+l+")");else throw new Error("invalid Expression");else if(h===G||h===Q)s.push(g.value);else if(h===de)n=s.pop(),a=g.value,a==="-"||a==="+"?s.push("("+a+n+")"):t?a==="not"?s.push("(!"+n+")"):a==="!"?s.push("fac("+n+")"):s.push(a+"("+n+")"):a==="!"?s.push("("+n+"!)"):s.push("("+a+" "+n+")");else if(h===oe){for(u=g.value,i=[];u-- >0;)i.unshift(s.pop());a=s.pop(),s.push(a+"("+i.join(", ")+")")}else if(h===Re){for(r=s.pop(),u=g.value,i=[];u-- >0;)i.unshift(s.pop());n=s.pop(),t?s.push("("+n+" = function("+i.join(", ")+") { return "+r+" })"):s.push("("+n+"("+i.join(", ")+") = "+r+")")}else if(h===ee)n=s.pop(),s.push(n+"."+g.value);else if(h===ie){for(u=g.value,i=[];u-- >0;)i.unshift(s.pop());s.push("["+i.join(", ")+"]")}else if(h===R)s.push("("+Qe(g.value,t)+")");else if(h!==Pe)throw new Error("invalid Expression")}return s.length>1&&(t?s=[s.join(",")]:s=[s.join(";")]),String(s[0])}function lt(e){return typeof e=="string"?JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):e}function ae(e,t){for(var s=0;s<e.length;s++)if(e[s]===t)return!0;return!1}function Je(e,t,s){s=s||{};for(var n=!!s.withMembers,r=null,l=0;l<e.length;l++){var a=e[l];a.type===G||a.type===Q?!n&&!ae(t,a.value)?t.push(a.value):(r!==null&&(ae(t,r)||t.push(r)),r=a.value):a.type===ee&&n&&r!==null?r+="."+a.value:a.type===R?Je(a.value,t,s):r!==null&&(ae(t,r)||t.push(r),r=null)}r!==null&&!ae(t,r)&&t.push(r)}function _(e,t){this.tokens=e,this.parser=t,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.functions=t.functions}_.prototype.simplify=function(e){return e=e||{},new _(We(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,e),this.parser)};_.prototype.substitute=function(e,t){return t instanceof _||(t=this.parser.parse(String(t))),new _(wt(this.tokens,e,t),this.parser)};_.prototype.evaluate=function(e){return e=e||{},H(this.tokens,this,e)};_.prototype.toString=function(){return Qe(this.tokens,!1)};_.prototype.symbols=function(e){e=e||{};var t=[];return Je(this.tokens,t,e),t};_.prototype.variables=function(e){e=e||{};var t=[];Je(this.tokens,t,e);var s=this.functions;return t.filter(function(n){return!(n in s)})};_.prototype.toJSFunction=function(e,t){var s=this,n=new Function(e,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+Qe(this.simplify(t).tokens,!0)+"; }");return function(){return n.apply(s,arguments)}};var he="TEOF",x="TOP",qe="TNUMBER",xt="TSTRING",K="TPAREN",le="TBRACKET",_e="TCOMMA",Ze="TNAME",et="TSEMICOLON";function bt(e,t,s){this.type=e,this.value=t,this.index=s}bt.prototype.toString=function(){return this.type+": "+this.value};function C(e,t){this.pos=0,this.current=null,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.consts=e.consts,this.expression=t,this.savedPosition=0,this.savedCurrent=null,this.options=e.options,this.parser=e}C.prototype.newToken=function(e,t,s){return new bt(e,t,s??this.pos)};C.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current};C.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent};C.prototype.next=function(){if(this.pos>=this.expression.length)return this.newToken(he,"EOF");if(this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName())return this.current;this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')};C.prototype.isString=function(){var e=!1,t=this.pos,s=this.expression.charAt(t);if(s==="'"||s==='"')for(var n=this.expression.indexOf(s,t+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,this.expression.charAt(n-1)!=="\\"){var r=this.expression.substring(t+1,n);this.current=this.newToken(xt,this.unescape(r),t),e=!0;break}n=this.expression.indexOf(s,n+1)}return e};C.prototype.isParen=function(){var e=this.expression.charAt(this.pos);return e==="("||e===")"?(this.current=this.newToken(K,e),this.pos++,!0):!1};C.prototype.isBracket=function(){var e=this.expression.charAt(this.pos);return(e==="["||e==="]")&&this.isOperatorEnabled("[")?(this.current=this.newToken(le,e),this.pos++,!0):!1};C.prototype.isComma=function(){var e=this.expression.charAt(this.pos);return e===","?(this.current=this.newToken(_e,","),this.pos++,!0):!1};C.prototype.isSemicolon=function(){var e=this.expression.charAt(this.pos);return e===";"?(this.current=this.newToken(et,";"),this.pos++,!0):!1};C.prototype.isConst=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var s=this.expression.charAt(t);if(s.toUpperCase()===s.toLowerCase()&&(t===this.pos||s!=="_"&&s!=="."&&(s<"0"||s>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(n in this.consts)return this.current=this.newToken(qe,this.consts[n]),this.pos+=n.length,!0}return!1};C.prototype.isNamedOp=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var s=this.expression.charAt(t);if(s.toUpperCase()===s.toLowerCase()&&(t===this.pos||s!=="_"&&(s<"0"||s>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(x,n),this.pos+=n.length,!0}return!1};C.prototype.isName=function(){for(var e=this.pos,t=e,s=!1;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()){if(t===this.pos&&(n==="$"||n==="_")){n==="_"&&(s=!0);continue}else if(t===this.pos||!s||n!=="_"&&(n<"0"||n>"9"))break}else s=!0}if(s){var r=this.expression.substring(e,t);return this.current=this.newToken(Ze,r),this.pos+=r.length,!0}return!1};C.prototype.isWhitespace=function(){for(var e=!1,t=this.expression.charAt(this.pos);(t===" "||t==="	"||t===`
`||t==="\r")&&(e=!0,this.pos++,!(this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e};var Zt=/^[0-9a-f]{4}$/i;C.prototype.unescape=function(e){var t=e.indexOf("\\");if(t<0)return e;for(var s=e.substring(0,t);t>=0;){var n=e.charAt(++t);switch(n){case"'":s+="'";break;case'"':s+='"';break;case"\\":s+="\\";break;case"/":s+="/";break;case"b":s+="\b";break;case"f":s+="\f";break;case"n":s+=`
`;break;case"r":s+="\r";break;case"t":s+="	";break;case"u":var r=e.substring(t+1,t+5);Zt.test(r)||this.parseError("Illegal escape sequence: \\u"+r),s+=String.fromCharCode(parseInt(r,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++t;var l=e.indexOf("\\",t);s+=e.substring(t,l<0?e.length:l),t=l}return s};C.prototype.isComment=function(){var e=this.expression.charAt(this.pos);return e==="/"&&this.expression.charAt(this.pos+1)==="*"?(this.pos=this.expression.indexOf("*/",this.pos)+2,this.pos===1&&(this.pos=this.expression.length),!0):!1};C.prototype.isRadixInteger=function(){var e=this.pos;if(e>=this.expression.length-2||this.expression.charAt(e)!=="0")return!1;++e;var t,s;if(this.expression.charAt(e)==="x")t=16,s=/^[0-9a-f]$/i,++e;else if(this.expression.charAt(e)==="b")t=2,s=/^[01]$/i,++e;else return!1;for(var n=!1,r=e;e<this.expression.length;){var l=this.expression.charAt(e);if(s.test(l))e++,n=!0;else break}return n&&(this.current=this.newToken(qe,parseInt(this.expression.substring(r,e),t)),this.pos=e),n};C.prototype.isNumber=function(){for(var e=!1,t=this.pos,s=t,n=t,r=!1,l=!1,a;t<this.expression.length&&(a=this.expression.charAt(t),a>="0"&&a<="9"||!r&&a===".");)a==="."?r=!0:l=!0,t++,e=l;if(e&&(n=t),a==="e"||a==="E"){t++;for(var i=!0,u=!1;t<this.expression.length;){if(a=this.expression.charAt(t),i&&(a==="+"||a==="-"))i=!1;else if(a>="0"&&a<="9")u=!0,i=!1;else break;t++}u||(t=n)}return e?(this.current=this.newToken(qe,parseFloat(this.expression.substring(s,t))),this.pos=t):this.pos=n,e};C.prototype.isOperator=function(){var e=this.pos,t=this.expression.charAt(this.pos);if(t==="+"||t==="-"||t==="*"||t==="/"||t==="%"||t==="^"||t==="?"||t===":"||t===".")this.current=this.newToken(x,t);else if(t==="∙"||t==="•")this.current=this.newToken(x,"*");else if(t===">")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(x,">="),this.pos++):this.current=this.newToken(x,">");else if(t==="<")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(x,"<="),this.pos++):this.current=this.newToken(x,"<");else if(t==="|")if(this.expression.charAt(this.pos+1)==="|")this.current=this.newToken(x,"||"),this.pos++;else return!1;else if(t==="=")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(x,"=="),this.pos++):this.current=this.newToken(x,t);else if(t==="!")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(x,"!="),this.pos++):this.current=this.newToken(x,t);else return!1;return this.pos++,this.isOperatorEnabled(this.current.value)?!0:(this.pos=e,!1)};C.prototype.isOperatorEnabled=function(e){return this.parser.isOperatorEnabled(e)};C.prototype.getCoordinates=function(){var e=0,t,s=-1;do e++,t=this.pos-s,s=this.expression.indexOf(`
`,s+1);while(s>=0&&s<this.pos);return{line:e,column:t}};C.prototype.parseError=function(e){var t=this.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: "+e)};function b(e,t,s){this.parser=e,this.tokens=t,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=s.allowMemberAccess!==!1}b.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()};b.prototype.tokenMatches=function(e,t){return typeof t>"u"?!0:Array.isArray(t)?ae(t,e.value):typeof t=="function"?t(e):e.value===t};b.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()};b.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken};b.prototype.accept=function(e,t){return this.nextToken.type===e&&this.tokenMatches(this.nextToken,t)?(this.next(),!0):!1};b.prototype.expect=function(e,t){if(!this.accept(e,t)){var s=this.tokens.getCoordinates();throw new Error("parse error ["+s.line+":"+s.column+"]: Expected "+(t||e))}};b.prototype.parseAtom=function(e){var t=this.tokens.unaryOps;function s(r){return r.value in t}if(this.accept(Ze)||this.accept(x,s))e.push(new T(G,this.current.value));else if(this.accept(qe))e.push(new T(q,this.current.value));else if(this.accept(xt))e.push(new T(q,this.current.value));else if(this.accept(K,"("))this.parseExpression(e),this.expect(K,")");else if(this.accept(le,"["))if(this.accept(le,"]"))e.push(new T(ie,0));else{var n=this.parseArrayList(e);e.push(new T(ie,n))}else throw new Error("unexpected "+this.nextToken)};b.prototype.parseExpression=function(e){var t=[];this.parseUntilEndStatement(e,t)||(this.parseVariableAssignmentExpression(t),!this.parseUntilEndStatement(e,t)&&this.pushExpression(e,t))};b.prototype.pushExpression=function(e,t){for(var s=0,n=t.length;s<n;s++)e.push(t[s])};b.prototype.parseUntilEndStatement=function(e,t){return this.accept(et)?(this.nextToken&&this.nextToken.type!==he&&!(this.nextToken.type===K&&this.nextToken.value===")")&&t.push(new T(Pe)),this.nextToken.type!==he&&this.parseExpression(t),e.push(new T(R,t)),!0):!1};b.prototype.parseArrayList=function(e){for(var t=0;!this.accept(le,"]");)for(this.parseExpression(e),++t;this.accept(_e);)this.parseExpression(e),++t;return t};b.prototype.parseVariableAssignmentExpression=function(e){for(this.parseConditionalExpression(e);this.accept(x,"=");){var t=e.pop(),s=[],n=e.length-1;if(t.type===oe){if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var r=0,l=t.value+1;r<l;r++){var a=n-r;e[a].type===G&&(e[a]=new T(Q,e[a].value))}this.parseVariableAssignmentExpression(s),e.push(new T(R,s)),e.push(new T(Re,t.value));continue}if(t.type!==G&&t.type!==ee)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(s),e.push(new T(Q,t.value)),e.push(new T(R,s)),e.push(W("="))}};b.prototype.parseConditionalExpression=function(e){for(this.parseOrExpression(e);this.accept(x,"?");){var t=[],s=[];this.parseConditionalExpression(t),this.expect(x,":"),this.parseConditionalExpression(s),e.push(new T(R,t)),e.push(new T(R,s)),e.push(vt("?"))}};b.prototype.parseOrExpression=function(e){for(this.parseAndExpression(e);this.accept(x,"or");){var t=[];this.parseAndExpression(t),e.push(new T(R,t)),e.push(W("or"))}};b.prototype.parseAndExpression=function(e){for(this.parseComparison(e);this.accept(x,"and");){var t=[];this.parseComparison(t),e.push(new T(R,t)),e.push(W("and"))}};var es=["==","!=","<","<=",">=",">","in"];b.prototype.parseComparison=function(e){for(this.parseAddSub(e);this.accept(x,es);){var t=this.current;this.parseAddSub(e),e.push(W(t.value))}};var ts=["+","-","||"];b.prototype.parseAddSub=function(e){for(this.parseTerm(e);this.accept(x,ts);){var t=this.current;this.parseTerm(e),e.push(W(t.value))}};var ss=["*","/","%"];b.prototype.parseTerm=function(e){for(this.parseFactor(e);this.accept(x,ss);){var t=this.current;this.parseFactor(e),e.push(W(t.value))}};b.prototype.parseFactor=function(e){var t=this.tokens.unaryOps;function s(r){return r.value in t}if(this.save(),this.accept(x,s)){if(this.current.value!=="-"&&this.current.value!=="+"){if(this.nextToken.type===K&&this.nextToken.value==="("){this.restore(),this.parseExponential(e);return}else if(this.nextToken.type===et||this.nextToken.type===_e||this.nextToken.type===he||this.nextToken.type===K&&this.nextToken.value===")"){this.restore(),this.parseAtom(e);return}}var n=this.current;this.parseFactor(e),e.push(Be(n.value))}else this.parseExponential(e)};b.prototype.parseExponential=function(e){for(this.parsePostfixExpression(e);this.accept(x,"^");)this.parseFactor(e),e.push(W("^"))};b.prototype.parsePostfixExpression=function(e){for(this.parseFunctionCall(e);this.accept(x,"!");)e.push(Be("!"))};b.prototype.parseFunctionCall=function(e){var t=this.tokens.unaryOps;function s(l){return l.value in t}if(this.accept(x,s)){var n=this.current;this.parseAtom(e),e.push(Be(n.value))}else for(this.parseMemberExpression(e);this.accept(K,"(");)if(this.accept(K,")"))e.push(new T(oe,0));else{var r=this.parseArgumentList(e);e.push(new T(oe,r))}};b.prototype.parseArgumentList=function(e){for(var t=0;!this.accept(K,")");)for(this.parseExpression(e),++t;this.accept(_e);)this.parseExpression(e),++t;return t};b.prototype.parseMemberExpression=function(e){for(this.parseAtom(e);this.accept(x,".")||this.accept(le,"[");){var t=this.current;if(t.value==="."){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(Ze),e.push(new T(ee,this.current.value))}else if(t.value==="["){if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(e),this.expect(le,"]"),e.push(W("["))}else throw new Error("unexpected symbol: "+t.value)}};function ns(e,t){return Number(e)+Number(t)}function rs(e,t){return e-t}function as(e,t){return e*t}function os(e,t){return e/t}function is(e,t){return e%t}function ls(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):""+e+t}function ds(e,t){return e===t}function us(e,t){return e!==t}function cs(e,t){return e>t}function ps(e,t){return e<t}function hs(e,t){return e>=t}function fs(e,t){return e<=t}function ms(e,t){return!!(e&&t)}function gs(e,t){return!!(e||t)}function ks(e,t){return ae(t,e)}function ys(e){return(Math.exp(e)-Math.exp(-e))/2}function Ts(e){return(Math.exp(e)+Math.exp(-e))/2}function vs(e){return e===1/0?1:e===-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function ws(e){return e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))}function xs(e){return Math.log(e+Math.sqrt(e*e-1))}function bs(e){return Math.log((1+e)/(1-e))/2}function dt(e){return Math.log(e)*Math.LOG10E}function As(e){return-e}function Cs(e){return!e}function Es(e){return e<0?Math.ceil(e):Math.floor(e)}function Ms(e){return Math.random()*(e||1)}function ut(e){return tt(e+1)}function Is(e){return isFinite(e)&&e===Math.round(e)}var Ss=4.7421875,Ke=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function tt(e){var t,s;if(Is(e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(var n=e-2,r=e-1;n>1;)r*=n,n--;return r===0&&(r=1),r}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*tt(1-e));if(e>=171.35)return 1/0;if(e>85){var l=e*e,a=l*e,i=a*e,u=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*l)-139/(51840*a)-571/(2488320*i)+163879/(209018880*u)+5246819/(75246796800*u*e))}--e,s=Ke[0];for(var f=1;f<Ke.length;++f)s+=Ke[f]/(e+f);return t=e+Ss+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*s}function Os(e){return Array.isArray(e)?e.length:String(e).length}function ct(){for(var e=0,t=0,s=0;s<arguments.length;s++){var n=Math.abs(arguments[s]),r;t<n?(r=t/n,e=e*r*r+1,t=n):n>0?(r=n/t,e+=r*r):e+=n}return t===1/0?1/0:t*Math.sqrt(e)}function pt(e,t,s){return e?t:s}function Ds(e,t){return typeof t>"u"||+t==0?Math.round(e):(e=+e,t=-+t,isNaN(e)||!(typeof t=="number"&&t%1===0)?NaN:(e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-t:-t))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+t:t))))}function Ns(e,t,s){return s&&(s[e]=t),t}function Us(e,t){return e[t|0]}function Fs(e){return arguments.length===1&&Array.isArray(e)?Math.max.apply(Math,e):Math.max.apply(Math,arguments)}function js(e){return arguments.length===1&&Array.isArray(e)?Math.min.apply(Math,e):Math.min.apply(Math,arguments)}function Rs(e,t){if(typeof e!="function")throw new Error("First argument to map is not a function");if(!Array.isArray(t))throw new Error("Second argument to map is not an array");return t.map(function(s,n){return e(s,n)})}function Ps(e,t,s){if(typeof e!="function")throw new Error("First argument to fold is not a function");if(!Array.isArray(s))throw new Error("Second argument to fold is not an array");return s.reduce(function(n,r,l){return e(n,r,l)},t)}function Bs(e,t){if(typeof e!="function")throw new Error("First argument to filter is not a function");if(!Array.isArray(t))throw new Error("Second argument to filter is not an array");return t.filter(function(s,n){return e(s,n)})}function qs(e,t){if(!(Array.isArray(t)||typeof t=="string"))throw new Error("Second argument to indexOf is not a string or array");return t.indexOf(e)}function _s(e,t){if(!Array.isArray(t))throw new Error("Second argument to join is not an array");return t.join(e)}function Ls(e){return(e>0)-(e<0)||+e}var ht=1/3;function Ys(e){return e<0?-Math.pow(-e,ht):Math.pow(e,ht)}function Vs(e){return Math.exp(e)-1}function $s(e){return Math.log(1+e)}function Gs(e){return Math.log(e)/Math.LN2}function z(e){this.options=e||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||ys,cosh:Math.cosh||Ts,tanh:Math.tanh||vs,asinh:Math.asinh||ws,acosh:Math.acosh||xs,atanh:Math.atanh||bs,sqrt:Math.sqrt,cbrt:Math.cbrt||Ys,log:Math.log,log2:Math.log2||Gs,ln:Math.log,lg:Math.log10||dt,log10:Math.log10||dt,expm1:Math.expm1||Vs,log1p:Math.log1p||$s,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||Es,"-":As,"+":Number,exp:Math.exp,not:Cs,length:Os,"!":ut,sign:Math.sign||Ls},this.binaryOps={"+":ns,"-":rs,"*":as,"/":os,"%":is,"^":Math.pow,"||":ls,"==":ds,"!=":us,">":cs,"<":ps,">=":hs,"<=":fs,and:ms,or:gs,in:ks,"=":Ns,"[":Us},this.ternaryOps={"?":pt},this.functions={random:Ms,fac:ut,min:js,max:Fs,hypot:Math.hypot||ct,pyt:Math.hypot||ct,pow:Math.pow,atan2:Math.atan2,if:pt,gamma:tt,roundTo:Ds,map:Rs,fold:Ps,filter:Bs,indexOf:qs,join:_s},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}z.prototype.parse=function(e){var t=[],s=new b(this,new C(this,e),{allowMemberAccess:this.options.allowMemberAccess});return s.parseExpression(t),s.expect(he,"EOF"),new _(t,this)};z.prototype.evaluate=function(e,t){return this.parse(e).evaluate(t)};var At=new z;z.parse=function(e){return At.parse(e)};z.evaluate=function(e,t){return At.parse(e).evaluate(t)};var ft={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function Ks(e){return ft.hasOwnProperty(e)?ft[e]:e}z.prototype.isOperatorEnabled=function(e){var t=Ks(e),s=this.options.operators||{};return!(t in s)||!!s[t]};const Ws=(e,t,s)=>{const{uniqueTags:n,uniqueCategories:r}=A.useMemo(()=>{const a=new Set,i=new Set;return e.forEach(u=>{u.tags.forEach(f=>a.add(f.name)),u.category&&i.add(u.category)}),{uniqueTags:Array.from(a),uniqueCategories:Array.from(i)}},[e]);return{processedTasks:A.useMemo(()=>{let a=[...e];if(t.tags.length>0&&(a=a.filter(i=>i.tags.some(u=>t.tags.includes(u.name)))),t.categories.length>0&&(a=a.filter(i=>i.category&&t.categories.includes(i.category))),t.priorities.length>0&&(a=a.filter(i=>t.priorities.includes(i.priority))),t.statuses.length>0&&(a=a.filter(i=>t.statuses.includes(i.status))),t.enableScript&&t.script.trim())try{const i=new z,u=i.parse(t.script);a=a.filter(f=>{try{return!!u.evaluate({task:f})}catch(g){return y.error("TaskFiltering","Custom filter script execution failed",g),!1}})}catch(i){y.error("TaskFiltering","Custom filter script parsing failed",i)}return a.sort((i,u)=>{if(s.field==="custom"){if(!s.script.trim())return 0;try{const h=new z,o=h.parse(s.script),k=o.evaluate({a:i,b:u});return typeof k=="number"?k:0}catch(h){return y.error("TaskFiltering","Custom sort script failed",h),0}}let f=i[s.field],g=u[s.field];if(s.field==="priority"){const h={high:3,medium:2,low:1};f=h[i.priority],g=h[u.priority]}return f==null&&(f=""),g==null&&(g=""),f<g?s.direction==="asc"?-1:1:f>g?s.direction==="asc"?1:-1:0}),a},[e,t,s]),uniqueTags:n,uniqueCategories:r}},zs=e=>A.useMemo(()=>e.reduce((t,s)=>(s.status==="done"||s.status==="cancelled"||(s.status==="todo"&&t.todo++,s.status==="unplanned"&&t.unplanned++,s.status==="scheduled"&&t.scheduled++,s.status==="doing"&&t.doing++,(s.status==="overdue"||s.status==="due")&&t.urgent++),t),{todo:0,unplanned:0,urgent:0,scheduled:0,doing:0}),[e]),Xs=(e,t,s,n,r,l,a,i)=>{const u=A.useRef(e);A.useEffect(()=>{u.current=e},[e]);const f=async h=>{const o=h.args,k=u.current;switch(y.info("AI",`Executing tool: ${h.name}`,o),h.name){case"create_task":{const p={id:`ai-${Date.now()}-${Math.random().toString(36).slice(2,5)}`,title:o.title,description:o.description,status:"todo",priority:o.priority||"medium",createdAt:Vt(),dueAt:o.dueAt||gt(),category:o.category,tags:o.tags?o.tags.map(w=>({id:`tag-${w}`,name:w})):[]};return await t(p),a("success","Task Created",`"${p.title}" added to your list.`),y.info("AI","Tool Result: Task Created",{id:p.id}),{success:!0,id:p.id,message:"Task created successfully"}}case"query_tasks":{let p=k;if(o.status&&(p=p.filter(w=>w.status===o.status)),o.date&&(p=p.filter(w=>{const j=["startAt","createdAt","completedAt","dueAt"];for(const E of j)if(w[E]&&w[E].startsWith(o.date))return!0;return!1})),o.search){const w=o.search.toLowerCase();p=p.filter(j=>j.title.toLowerCase().includes(w))}return y.debug("AI",`Tool Result: Query found ${p.length} tasks`),p.map(w=>({id:w.id,title:w.title,dueAt:w.dueAt,status:w.status}))}case"update_task":{const p=k.find(N=>N.id===o.id);if(!p)return a("error","Update Failed",`Could not find task with ID ${o.id}`),y.warn("AI","Tool Result: Update Failed (Not Found)",{id:o.id}),{success:!1,message:"Task not found"};const w=[];Object.keys(o).forEach(N=>{N!=="id"&&o[N]!==p[N]&&w.push(N)});const j={...p,...o};await s(j,p);const E=w.length>0?`Updated ${w.join(", ")}`:"Updated properties";return a("success","Task Updated",`${E} for "${p.title}"`),y.info("AI","Tool Result: Task Updated",{id:o.id,fields:w}),{success:!0,message:"Updated"}}case"delete_task":{const p=k.find(w=>w.id===o.id);return p?(await n(o.id,p),a("info","Task Deleted",`Removed "${p.title}"`),y.info("AI","Tool Result: Task Deleted",{id:o.id}),{success:!0,message:"Deleted"}):(a("error","Delete Failed",`Could not find task with ID ${o.id}`),y.warn("AI","Tool Result: Delete Failed (Not Found)",{id:o.id}),{success:!1,message:"Task not found"})}default:return y.error("AI",`Unknown tool called: ${h.name}`),{error:"Unknown tool"}}};return{handleAICommand:async h=>{const o=r.aiConfig.activeProvider,k=r.aiConfig.providers[o];try{const p=await $t(o,k),w=Xt(),j=Ht();y.info("AI",`Sending prompt to ${o}`,{input:h,model:k.model});let E=await p.chat(j,h,w);E.tokenCount&&i&&(i(E.tokenCount),y.debug("AI","Token Usage",{tokens:E.tokenCount}));let N=0;const L=5,M=[{role:"user",content:h}];for(;E.toolCalls&&E.toolCalls.length>0&&N<L;){N++,M.push({role:"assistant",content:E.text,toolCalls:E.toolCalls});const P=[];for(const Y of E.toolCalls){if(!Y.name)continue;const fe=await f(Y);P.push({id:Y.id,name:Y.name,result:fe})}M.push({role:"tool",toolResults:P}),E=await p.chat(j,h,w,P,M),E.tokenCount&&i&&i(E.tokenCount)}}catch(p){y.error("AI","Agent processing failed",p),a("error","AI Agent Error",p instanceof Error?p.message:"Something went wrong while processing your request.")}}}},U={theme:"light",dateFormat:"MMM d",showCompleted:!0,showProgressBar:!0,soundEnabled:!1,fontSize:"base",useRelativeDates:!0,groupingStrategy:["dueAt"],aiConfig:{enabled:!0,defaultMode:!1,activeProvider:"gemini",providers:{gemini:{apiKey:"",model:"gemini-2.0-flash",baseUrl:""},openai:{apiKey:"",model:"gpt-4o",baseUrl:""},anthropic:{apiKey:"",model:"claude-sonnet-4-20250514",baseUrl:""},"openai-compatible":{apiKey:"",model:"",baseUrl:""}}},voiceConfig:{enabled:!0,activeProvider:"browser",language:"",providers:{browser:{},openai:{apiKey:"",baseUrl:"https://api.openai.com/v1/audio/transcriptions",model:"whisper-1"},gemini:{apiKey:"",model:"gemini-1.5-flash"}}},defaultFocusMode:!1,totalTokenUsage:0,defaultCategory:"General",settingButtonOnInputBar:void 0,filters:{tags:[],categories:[],priorities:[],statuses:[],enableScript:!1,script:""},sort:{field:"createdAt",direction:"asc",script:""}},Ct=({className:e,tasks:t,onTaskAdded:s,onTaskUpdated:n,onTaskDeleted:r,settingsRepository:l,apiKey:a,systemInDarkMode:i,onItemClick:u,customSettingsTabs:f,renderTitle:g})=>{const[h,o]=A.useState(!1),[k,p]=A.useState(null),[w,j]=A.useState(null),[E,N]=A.useState([]),L=A.useMemo(()=>l||new Qt,[l]),[M,P]=A.useState(()=>a?{...U,aiConfig:{...U.aiConfig,providers:{...U.aiConfig.providers,gemini:{...U.aiConfig.providers.gemini,apiKey:a}}}}:U),[Y,fe]=A.useState(!1),[se,Le]=A.useState(U.defaultFocusMode),[st,me]=A.useState(!1);A.useEffect(()=>{(async()=>{y.info("App","Loading settings...");try{const m=await L.loadSettings();if(m){const v={...U,...m,aiConfig:{...U.aiConfig,...m.aiConfig||{},providers:{...U.aiConfig.providers,...m.aiConfig?.providers||{},...Object.fromEntries(Object.keys(U.aiConfig.providers).map(X=>[X,{...U.aiConfig.providers[X],...m.aiConfig?.providers?.[X]||{}}]))}},voiceConfig:{...U.voiceConfig,...m.voiceConfig||{},providers:{...U.voiceConfig.providers,...m.voiceConfig?.providers||{}}}},B=a?{...v,aiConfig:{...v.aiConfig,providers:{...v.aiConfig.providers,gemini:{...v.aiConfig.providers.gemini,apiKey:a}}}}:v;P(B),Le(B.defaultFocusMode),me(B.aiConfig.enabled&&B.aiConfig.defaultMode)}else me(U.aiConfig.enabled&&U.aiConfig.defaultMode);fe(!0)}catch(m){y.error("App","Failed to load settings",m),fe(!0)}})()},[L,a]),A.useEffect(()=>{Y&&L.saveSettings(M)},[M,L,Y]);const V=(c,m,v)=>{const B=Math.random().toString(36).slice(2,11);N(X=>[...X,{id:B,type:c,title:m,description:v}]),y.info("Notification",m,{type:c,description:v})},Et=c=>{N(m=>m.filter(v=>v.id!==c))},Mt=c=>{P(m=>({...m,totalTokenUsage:m.totalTokenUsage+c}))},[ne,Ye]=A.useState(M.filters),[nt,It]=A.useState(M.sort),St=A.useDeferredValue(ne),ge=M.theme==="system"?i?"midnight":"light":M.theme;A.useEffect(()=>{y.info("App","system in dark mode: ",i),w&&(y.info("App","set theme on outer container: ",ge),w.setAttribute("data-theme",ge))},[ge,w,i]);const{processedTasks:Ot,uniqueTags:rt,uniqueCategories:Ve}=Ws(t,St,nt),pe=zs(t),at=async c=>{const m=t.find(B=>B.id===c.id);if(!m){console.warn(`Task ${c.id} not found`);return}const v={...c,status:it(c)};y.info("Task","Updated task",{id:v.id,title:v.title});try{await n(v,m)}catch(B){y.error("Task","Failed to update task",{error:B}),V("error","Update Failed","Could not save changes")}},Dt=async c=>{const m=t.find(v=>v.id===c);if(!m){console.warn(`Task ${c} not found`);return}V("info","Task Deleted","Item removed from your list"),y.info("Task","Deleted task",{id:c});try{await r(c,m)}catch(v){y.error("Task","Failed to delete task",{error:v}),V("error","Delete Failed","Could not remove task")}},Nt=c=>{at(c),p(null)},ot=async(c,m)=>{let v;const B={id:`new-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,status:"todo",createdAt:new Date().toISOString(),priority:"medium",tags:[],category:M.defaultCategory};if(typeof c=="string"&&m)v={...B,title:m,dueAt:c};else if(typeof c=="object")v={...B,title:"New Task",...c},v.title||(v.title="Untitled Task");else return;v.status=it(v),y.info("Task","Created task",{id:v.id,title:v.title});try{await s(v)}catch(X){y.error("Task","Failed to add task",{error:X}),V("error","Add Failed","Could not create task")}},{handleAICommand:Ut}=Xs(t,s,n,r,M,ot,V,Mt),ke=c=>{const m=c.every(v=>ne.statuses.includes(v))&&ne.statuses.length===c.length;Ye(v=>({...v,statuses:m?[]:c}))},ye=c=>c.every(m=>ne.statuses.includes(m))&&ne.statuses.length===c.length,Ft=c=>{V("error","Voice Input Error",c),y.error("Voice",c)};return d.jsx("div",{ref:j,className:re("tasks-timeline-app bg-paper text-slate-900 font-sans selection:bg-rose-100 selection:text-rose-900 transition-colors duration-300 antialiased",e),children:d.jsx(_t,{theme:ge,children:d.jsx(Lt,{value:{tasks:Ot,availableCategories:Ve,availableTags:rt,onUpdateTask:at,onDeleteTask:Dt,onAddTask:ot,onEditTask:p,onAICommand:Ut,onItemClick:u,renderTitle:g},children:d.jsx(Yt,{value:{settings:M,updateSettings:c=>P(m=>({...m,...c})),isFocusMode:se,toggleFocusMode:()=>Le(!se),isAiMode:st,toggleAiMode:()=>me(!st),filters:ne,onFilterChange:Ye,sort:nt,onSortChange:It,onVoiceError:Ft,onOpenSettings:M.settingButtonOnInputBar===!1?void 0:()=>o(!0)},children:d.jsxs("div",{className:"max-w-3xl mx-auto min-h-screen bg-white shadow-xl shadow-slate-200/50 border-x border-slate-100 pb-10 relative",children:[d.jsxs("div",{className:"sticky top-0 z-40 bg-white/95 backdrop-blur-md border-b border-slate-200/60 shadow-sm transition-all duration-300",children:[d.jsx(Ge,{FallbackComponent:yt,onError:(c,m)=>{y.error("InputBar","Error caught by boundary",{error:c,info:m}),V("error","Input Error",c instanceof Error?c.message:String(c))},onReset:()=>{me(!1)},children:d.jsx(Rt,{})}),d.jsx("div",{className:"px-4 sm:px-6 pb-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>Le(!se),className:re("rounded-lg p-2 flex flex-col items-center justify-center border w-20 shrink-0 transition-all",se?"bg-purple-100 border-purple-400 text-purple-700 shadow-inner":"bg-slate-50 border-slate-100 text-slate-400 hover:text-slate-600 hover:border-slate-200"),title:se?"Turn Off Focus Mode":"Turn On Focus Mode",children:[d.jsx(je,{name:se?"Minimize2":"Target",size:20,className:"mb-0.5"}),d.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider truncate w-full text-center",children:"Focus"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-2 flex-1",children:[d.jsxs("button",{onClick:()=>ke(["todo"]),className:re("rounded-lg p-2 flex flex-col items-center justify-center border",ye(["todo"])?"bg-slate-100 border-slate-400":"bg-slate-50 border-slate-100"),children:[d.jsx("span",{className:"text-lg font-black text-slate-800 leading-none",children:pe.todo}),d.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider mt-1 truncate w-full text-center",children:"To Do"})]}),d.jsxs("button",{onClick:()=>ke(["unplanned"]),className:re("rounded-lg p-2 flex flex-col items-center justify-center border",ye(["unplanned"])?"bg-purple-100 border-purple-400":"bg-purple-50 border-purple-100"),children:[d.jsx("span",{className:"text-lg font-black text-purple-600 leading-none",children:pe.unplanned}),d.jsx("span",{className:"text-[9px] font-bold text-purple-400 uppercase tracking-wider mt-1 truncate w-full text-center",children:"Unplanned"})]}),d.jsxs("button",{onClick:()=>ke(["due","overdue"]),className:re("rounded-lg p-2 flex flex-col items-center justify-center border",ye(["due","overdue"])?"bg-rose-100 border-rose-400":"bg-rose-50 border-rose-100"),children:[d.jsx("span",{className:"text-lg font-black text-rose-600 leading-none",children:pe.urgent}),d.jsx("span",{className:"text-[9px] font-bold text-rose-400 uppercase tracking-wider mt-1 truncate w-full text-center",children:"Due & OD"})]}),d.jsxs("button",{onClick:()=>ke(["scheduled","doing"]),className:re("rounded-lg p-2 flex flex-col items-center justify-center border",ye(["scheduled","doing"])?"bg-blue-100 border-blue-400":"bg-blue-50 border-blue-100"),children:[d.jsx("span",{className:"text-lg font-black text-blue-600 leading-none",children:pe.scheduled+pe.doing}),d.jsx("span",{className:"text-[9px] font-bold text-blue-400 uppercase tracking-wider mt-1 truncate w-full text-center",children:"Doing"})]})]})]})})]}),d.jsx("main",{className:"px-4 sm:px-6 pt-6",children:d.jsx(Ge,{FallbackComponent:kt,onError:(c,m)=>{y.error("TodoList","Error caught by boundary",{error:c,info:m}),V("error","Task List Error",c instanceof Error?c.message:String(c))},onReset:()=>{Ye({tags:[],categories:[],priorities:[],statuses:[],script:"",enableScript:!1})},children:d.jsx(jt,{})})}),d.jsx("footer",{className:"mt-10 py-6 text-center text-slate-400 text-xs border-t border-slate-50",children:d.jsx("p",{children:"Timeline Tasks View"})}),d.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none",children:d.jsx(Gt,{children:E.map(c=>d.jsx(qt,{toast:c,onDismiss:Et},c.id))})}),d.jsx(Pt,{isOpen:h,onClose:()=>o(!1),settings:M,onUpdateSettings:P,availableTags:rt,availableCategories:Ve,customTabs:f}),d.jsx(Ge,{FallbackComponent:Tt,onError:(c,m)=>{y.error("TaskEditModal","Error in modal",{error:c,info:m}),V("error","Failed to Edit Task",c instanceof Error?c.message:String(c))},onReset:()=>{p(null)},children:d.jsx(Bt,{isOpen:!!k,onClose:()=>p(null),task:k,onSave:Nt,availableCategories:Ve})})]})})})})})};Ct.__docgenInfo={description:"",methods:[],displayName:"TasksTimelineApp",props:{className:{required:!1,tsType:{name:"string"},description:""},tasks:{required:!0,tsType:{name:"Array",elements:[{name:"Task"}],raw:"Task[]"},description:""},onTaskAdded:{required:!0,tsType:{name:"signature",type:"function",raw:"(task: Task) => void | Promise<void>",signature:{arguments:[{type:{name:"Task"},name:"task"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},onTaskUpdated:{required:!0,tsType:{name:"signature",type:"function",raw:"(task: Task, previous: Task) => void | Promise<void>",signature:{arguments:[{type:{name:"Task"},name:"task"},{type:{name:"Task"},name:"previous"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},onTaskDeleted:{required:!0,tsType:{name:"signature",type:"function",raw:"(taskId: string, previous: Task) => void | Promise<void>",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"Task"},name:"previous"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},settingsRepository:{required:!1,tsType:{name:"SettingsRepository"},description:""},apiKey:{required:!1,tsType:{name:"string"},description:""},systemInDarkMode:{required:!1,tsType:{name:"boolean"},description:""},onItemClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: Task) => void",signature:{arguments:[{type:{name:"Task"},name:"item"}],return:{name:"void"}}},description:""},customSettingsTabs:{required:!1,tsType:{name:"Array",elements:[{name:"CustomSettingsTab"}],raw:"CustomSettingsTab[]"},description:"Custom tabs to inject into the Settings page"},renderTitle:{required:!1,tsType:{name:"signature",type:"function",raw:"(title: string) => React.ReactNode",signature:{arguments:[{type:{name:"string"},name:"title"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Custom renderer for task titles. When provided, replaces the default plain-text display."}}};const{expect:te}=__STORYBOOK_MODULE_TEST__,Rn={title:"Core/TasksTimelineApp",component:Ct,tags:["autodocs"],parameters:{layout:"fullscreen"},argTypes:{onItemClick:{action:"item-clicked"},onTaskAdded:{action:"task-added"},onTaskUpdated:{action:"task-updated"},onTaskDeleted:{action:"task-deleted"}}},I=Kt.mixed(10),F=e=>console.log("Clicked item:",e),S=e=>console.log("Task added:",e),O=(e,t)=>console.log("Task updated:",e,"Previous:",t),D=(e,t)=>console.log("Task deleted:",e,"Previous:",t),Te={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F}},ve={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F},play:async({canvasElement:e,step:t})=>{const s=J(e);await t("Verify app is rendered",async()=>{await Z(500);const n=s.queryAllByRole("textbox");te(n.length).toBeGreaterThan(0)})}},we={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,className:"custom-app-class",onItemClick:F}},xe={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,apiKey:"test-gemini-api-key",onItemClick:F}},be={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,systemInDarkMode:!0,onItemClick:F},parameters:{backgrounds:{default:"dark"}}},Ae={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,systemInDarkMode:!1,onItemClick:F},parameters:{backgrounds:{default:"light"}}},Ce={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F},play:async({canvasElement:e,step:t})=>{const s=J(e);await t("Find and click settings button",async()=>{await Z(500);const n=s.getAllByRole("button");te(n.length).toBeGreaterThan(0)})}},Ee={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F},play:async({canvasElement:e,step:t})=>{const s=J(e);await t("Find Focus mode toggle",async()=>{await Z(500);const n=s.getAllByRole("button");te(n.length).toBeGreaterThan(0)})}},Me={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F},play:async({canvasElement:e,step:t})=>{const s=J(e);await t("Find status filter buttons",async()=>{await Z(500);const n=s.getAllByRole("button");te(n.length).toBeGreaterThan(3)})}},Ie={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F},play:async({canvasElement:e,step:t})=>{const s=J(e);await t("Find input bar",async()=>{await Z(500);const n=s.queryAllByRole("textbox");te(n.length).toBeGreaterThan(0)})}},Se={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F},play:async({canvasElement:e,step:t})=>{const s=J(e);await t("Verify scrollable content",async()=>{await Z(500);const n=s.queryAllByRole("button");te(n.length).toBeGreaterThan(0)})}},Oe={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F},play:async({canvasElement:e,step:t})=>{const s=J(e);await t("Verify dashboard stats are visible",async()=>{await Z(500);const n=s.getAllByRole("button");te(n.length).toBeGreaterThan(3)})}},De={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D}},Ne={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,apiKey:"",onItemClick:F}},Ue={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,onItemClick:F,renderTitle:e=>e.toUpperCase()}},Fe={args:{tasks:I,onTaskAdded:S,onTaskUpdated:O,onTaskDeleted:D,className:"very-long-custom-class-name-that-might-cause-issues-but-should-still-work",onItemClick:F}};Te.parameters={...Te.parameters,docs:{...Te.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick
  }
}`,...Te.parameters?.docs?.source}}};ve.parameters={...ve.parameters,docs:{...ve.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick
  },
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = withinShadow(canvasElement);
    await step("Verify app is rendered", async () => {
      await delay(500);
      // Should have input bar
      const inputs = canvas.queryAllByRole("textbox");
      expect(inputs.length).toBeGreaterThan(0);
    });
  }
}`,...ve.parameters?.docs?.source}}};we.parameters={...we.parameters,docs:{...we.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    className: "custom-app-class",
    onItemClick: handleItemClick
  }
}`,...we.parameters?.docs?.source}}};xe.parameters={...xe.parameters,docs:{...xe.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    apiKey: "test-gemini-api-key",
    onItemClick: handleItemClick
  }
}`,...xe.parameters?.docs?.source}}};be.parameters={...be.parameters,docs:{...be.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    systemInDarkMode: true,
    onItemClick: handleItemClick
  },
  parameters: {
    backgrounds: {
      default: "dark"
    }
  }
}`,...be.parameters?.docs?.source}}};Ae.parameters={...Ae.parameters,docs:{...Ae.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    systemInDarkMode: false,
    onItemClick: handleItemClick
  },
  parameters: {
    backgrounds: {
      default: "light"
    }
  }
}`,...Ae.parameters?.docs?.source}}};Ce.parameters={...Ce.parameters,docs:{...Ce.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick
  },
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = withinShadow(canvasElement);
    await step("Find and click settings button", async () => {
      await delay(500); // Wait for app to initialize
      const buttons = canvas.getAllByRole("button");
      // Settings button should be among the buttons
      expect(buttons.length).toBeGreaterThan(0);
    });
  }
}`,...Ce.parameters?.docs?.source}}};Ee.parameters={...Ee.parameters,docs:{...Ee.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick
  },
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = withinShadow(canvasElement);
    await step("Find Focus mode toggle", async () => {
      await delay(500);
      const buttons = canvas.getAllByRole("button");
      // Should have Focus button
      expect(buttons.length).toBeGreaterThan(0);
    });
  }
}`,...Ee.parameters?.docs?.source}}};Me.parameters={...Me.parameters,docs:{...Me.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick
  },
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = withinShadow(canvasElement);
    await step("Find status filter buttons", async () => {
      await delay(500);
      // Should have To Do, Unplanned, Due & OD, Doing buttons
      const buttons = canvas.getAllByRole("button");
      expect(buttons.length).toBeGreaterThan(3);
    });
  }
}`,...Me.parameters?.docs?.source}}};Ie.parameters={...Ie.parameters,docs:{...Ie.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick
  },
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = withinShadow(canvasElement);
    await step("Find input bar", async () => {
      await delay(500);
      const inputs = canvas.queryAllByRole("textbox");
      // Should have task input field
      expect(inputs.length).toBeGreaterThan(0);
    });
  }
}`,...Ie.parameters?.docs?.source}}};Se.parameters={...Se.parameters,docs:{...Se.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick
  },
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = withinShadow(canvasElement);
    await step("Verify scrollable content", async () => {
      await delay(500);
      // App should render with buttons and input
      const buttons = canvas.queryAllByRole("button");
      expect(buttons.length).toBeGreaterThan(0);
    });
  }
}`,...Se.parameters?.docs?.source}}};Oe.parameters={...Oe.parameters,docs:{...Oe.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick
  },
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = withinShadow(canvasElement);
    await step("Verify dashboard stats are visible", async () => {
      await delay(500);
      const buttons = canvas.getAllByRole("button");
      // Should show stat cards (To Do, Unplanned, Due & OD, Doing)
      expect(buttons.length).toBeGreaterThan(3);
    });
  }
}`,...Oe.parameters?.docs?.source}}};De.parameters={...De.parameters,docs:{...De.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted
    // OnItemClick is optional, should work without it
  }
}`,...De.parameters?.docs?.source}}};Ne.parameters={...Ne.parameters,docs:{...Ne.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    apiKey: "",
    onItemClick: handleItemClick
  }
}`,...Ne.parameters?.docs?.source}}};Ue.parameters={...Ue.parameters,docs:{...Ue.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    onItemClick: handleItemClick,
    renderTitle: (title: string) => title.toUpperCase()
  }
}`,...Ue.parameters?.docs?.source}}};Fe.parameters={...Fe.parameters,docs:{...Fe.parameters?.docs,source:{originalSource:`{
  args: {
    tasks: mockTasks,
    onTaskAdded: handleTaskAdded,
    onTaskUpdated: handleTaskUpdated,
    onTaskDeleted: handleTaskDeleted,
    className: "very-long-custom-class-name-that-might-cause-issues-but-should-still-work",
    onItemClick: handleItemClick
  }
}`,...Fe.parameters?.docs?.source}}};const Pn=["App","WithItemClick","WithCustomClassName","WithAPIKey","SystemDarkMode","SystemLightMode","OpenSettings","ToggleFocusMode","FilterByStatus","AddNewTask","ScrollTasks","ViewTaskStats","NoOnItemClick","EmptyAPIKey","WithCustomRenderTitle","VeryLongClassName"];export{Ie as AddNewTask,Te as App,Ne as EmptyAPIKey,Me as FilterByStatus,De as NoOnItemClick,Ce as OpenSettings,Se as ScrollTasks,be as SystemDarkMode,Ae as SystemLightMode,Ee as ToggleFocusMode,Fe as VeryLongClassName,Oe as ViewTaskStats,xe as WithAPIKey,we as WithCustomClassName,Ue as WithCustomRenderTitle,ve as WithItemClick,Pn as __namedExportsOrder,Rn as default};
