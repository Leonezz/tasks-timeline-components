@layer tasks-timeline-app {
  @import "tailwindcss";
}

/* ============================================================================
   SHADCN UI THEMING - STANDARD PRACTICE

   Following shadcn/ui conventions:
   - HSL format without hsl() wrapper (e.g., "222.2 47.4% 11.2%")
   - Standard variable names (--background, --foreground, etc.)
   - Background/foreground pairs for each semantic color
   ============================================================================ */

:root {
  /* ===== LIGHT THEME (DEFAULT) ===== */

  /* Base colors */
  --background: 0 0% 100%; /* #ffffff */
  --foreground: 222.2 47.4% 11.2%; /* #0f172a - slate-900 */

  /* Card */
  --card: 0 0% 98.8%; /* #fcfcfc */
  --card-foreground: 222.2 47.4% 11.2%;

  /* Popover */
  --popover: 0 0% 98.8%; /* #fcfcfc */
  --popover-foreground: 222.2 47.4% 11.2%;

  /* Primary (Blue) */
  --primary: 217.2 91.2% 59.8%; /* #3b82f6 - blue-500 */
  --primary-foreground: 0 0% 100%; /* #ffffff */

  /* Secondary (Slate) */
  --secondary: 210 40% 96.1%; /* #f1f5f9 - slate-100 */
  --secondary-foreground: 222.2 47.4% 11.2%;

  /* Muted */
  --muted: 210 40% 96.1%; /* #f1f5f9 - slate-100 */
  --muted-foreground: 215.4 16.3% 46.9%; /* #64748b - slate-500 */

  /* Accent */
  --accent: 214.3 100% 97.1%; /* #eff6ff - blue-50 */
  --accent-foreground: 217.2 91.2% 59.8%;

  /* Destructive (Rose) */
  --destructive: 346.8 77.2% 49.8%; /* #e11d48 - rose-600 */
  --destructive-foreground: 0 0% 100%;

  /* Border & Input */
  --border: 214.3 31.8% 91.4%; /* #e2e8f0 - slate-200 */
  --input: 214.3 31.8% 91.4%;
  --ring: 217.2 91.2% 59.8%; /* blue-500 */

  /* Radius */
  --radius: 0.5rem;

  /* ===== EXTENDED COLOR PALETTE ===== */
  /* Keeping extended colors for rich UI (status colors, etc.) */

  /* Slate scale */
  --slate-50: 210 40% 98%; /* #f8fafc */
  --slate-100: 210 40% 96.1%; /* #f1f5f9 */
  --slate-200: 214.3 31.8% 91.4%; /* #e2e8f0 */
  --slate-300: 212.7 26.8% 83.9%; /* #cbd5e1 */
  --slate-400: 215 20.2% 65.1%; /* #94a3b8 */
  --slate-500: 215.4 16.3% 46.9%; /* #64748b */
  --slate-600: 215.3 19.3% 34.5%; /* #475569 */
  --slate-700: 215.3 25% 26.7%; /* #334155 */
  --slate-800: 217.2 32.6% 17.5%; /* #1e293b */
  --slate-900: 222.2 47.4% 11.2%; /* #0f172a */
  --slate-950: 222.2 84% 4.9%; /* #020617 */

  /* Rose (for errors, urgent items) */
  --rose-50: 355.7 100% 97.3%; /* #fff1f2 */
  --rose-100: 355.6 100% 94.7%; /* #ffe4e6 */
  --rose-200: 352.7 96.1% 90%; /* #fecdd3 */
  --rose-500: 349.7 89.2% 60.2%; /* #f43f5e */
  --rose-600: 346.8 77.2% 49.8%; /* #e11d48 */
  --rose-700: 345.3 82.7% 40.8%; /* #be123c */

  /* Emerald (for success, completed items) */
  --emerald-50: 151.8 81% 95.9%; /* #ecfdf5 */
  --emerald-100: 149.3 80.4% 90%; /* #d1fae5 */
  --emerald-200: 152.4 76% 80.4%; /* #a7f3d0 */
  --emerald-400: 160.1 84.1% 52.5%; /* #34d399 */
  --emerald-500: 160.1 84.1% 39.4%; /* #10b981 */
  --emerald-600: 161.4 93.5% 30.4%; /* #059669 */

  /* Blue (primary actions) */
  --blue-50: 213.8 100% 96.9%; /* #eff6ff */
  --blue-100: 214.3 94.6% 92.7%; /* #dbeafe */
  --blue-200: 213.3 96.9% 87.3%; /* #bfdbfe */
  --blue-300: 211.7 96.4% 78.4%; /* #93c5fd */
  --blue-400: 213.1 93.9% 67.8%; /* #60a5fa */
  --blue-500: 217.2 91.2% 59.8%; /* #3b82f6 */
  --blue-600: 221.2 83.2% 53.3%; /* #2563eb */

  /* Amber (warnings, due items) */
  --amber-50: 48 100% 96.1%; /* #fffbeb */
  --amber-100: 48 96.5% 88.8%; /* #fef3c7 */
  --amber-200: 48 96.6% 76.7%; /* #fde68a */
  --amber-500: 43 96.4% 56.3%; /* #f59e0b */
  --amber-700: 37.7 92.1% 38%; /* #b45309 */

  /* Purple (for unplanned, focus mode) */
  --purple-50: 270 100% 98%; /* #faf5ff */
  --purple-100: 269 100% 95.5%; /* #f3e8ff */
  --purple-200: 268.7 100% 91.8%; /* #e9d5ff */
  --purple-400: 270.4 95.2% 75.3%; /* #c084fc */
  --purple-500: 270.7 91% 65.1%; /* #a855f7 */
  --purple-600: 271.5 81.3% 55.9%; /* #9333ea */
}

/* ===== DARK THEME ===== */
.tasks-timeline-app[data-theme="dark"] {
  /* Base colors */
  --background: 222.2 47.4% 11.2%; /* #0f172a - slate-900 */
  --foreground: 210 40% 98%; /* #f8fafc - slate-50 */

  /* Card */
  --card: 217.2 32.6% 17.5%; /* #1e293b - slate-800 */
  --card-foreground: 210 40% 98%;

  /* Popover */
  --popover: 217.2 32.6% 17.5%; /* #1e293b */
  --popover-foreground: 210 40% 98%;

  /* Primary (Blue - slightly lighter in dark) */
  --primary: 213.1 93.9% 67.8%; /* #60a5fa - blue-400 */
  --primary-foreground: 222.2 47.4% 11.2%;

  /* Secondary */
  --secondary: 215.3 25% 26.7%; /* #334155 - slate-700 */
  --secondary-foreground: 210 40% 98%;

  /* Muted */
  --muted: 215.3 25% 26.7%; /* #334155 */
  --muted-foreground: 215 20.2% 65.1%; /* #94a3b8 - slate-400 */

  /* Accent */
  --accent: 217.2 32.6% 17.5%; /* #1e293b */
  --accent-foreground: 213.1 93.9% 67.8%;

  /* Destructive (Rose - lighter in dark) */
  --destructive: 350 89.2% 60.2%; /* #f43f5e - rose-500 */
  --destructive-foreground: 210 40% 98%;

  /* Border & Input */
  --border: 215.3 25% 26.7%; /* #334155 */
  --input: 215.3 25% 26.7%;
  --ring: 213.1 93.9% 67.8%; /* blue-400 */

  /* Extended palette adjustments for dark */
  --slate-50: 217.2 32.6% 17.5%; /* Invert: darkest becomes lightest context */
  --slate-100: 215.3 25% 26.7%;
  --slate-200: 215.3 19.3% 34.5%;
  --slate-300: 215.4 16.3% 46.9%;
  --slate-400: 215 20.2% 65.1%;
  --slate-500: 212.7 26.8% 83.9%;
  --slate-600: 214.3 31.8% 91.4%;
  --slate-700: 210 40% 96.1%;
  --slate-800: 210 40% 98%;
  --slate-900: 0 0% 100%;
  --slate-950: 0 0% 100%;

  /* Rose adjustments */
  --rose-50: 347 82% 15%; /* Dark red bg */
  --rose-100: 345 79% 26%;
  --rose-200: 346 84% 32%;
  --rose-500: 353.7 89.5% 70.6%; /* Lighter for dark bg */
  --rose-600: 352.7 96.1% 90%;
  --rose-700: 355.6 100% 94.7%;

  /* Emerald adjustments */
  --emerald-50: 162 100% 8%; /* Dark green bg */
  --emerald-100: 163 94% 14%;
  --emerald-200: 164 86% 18%;
  --emerald-500: 158 64% 52%;
  --emerald-600: 152.4 76% 80.4%;

  /* Blue adjustments */
  --blue-50: 221 83% 15%; /* Dark blue bg */
  --blue-100: 222 87% 24%;
  --blue-200: 223 83% 30%;
  --blue-500: 213.1 93.9% 67.8%;
  --blue-600: 213.3 96.9% 87.3%;

  /* Amber adjustments */
  --amber-50: 31 100% 10%; /* Dark amber bg */
  --amber-100: 30 93% 17%;
  --amber-200: 29 93% 22%;
  --amber-500: 47 92% 68%;
  --amber-700: 48 96.6% 76.7%;

  /* Purple adjustments */
  --purple-50: 273 100% 10%;
  --purple-100: 273 94% 18%;
  --purple-200: 272 87% 24%;
  --purple-500: 270.7 91% 65.1%;
  --purple-600: 270.4 95.2% 75.3%;
}

/* ===== MIDNIGHT THEME (Deep Blue) ===== */
.tasks-timeline-app[data-theme="midnight"] {
  /* Base colors - deeper, cooler blues */
  --background: 222 47% 7%; /* #0b1120 - very deep blue */
  --foreground: 210 40% 98%; /* #f8fafc */

  /* Card */
  --card: 218 36% 13%; /* #151e32 - deep blue */
  --card-foreground: 210 40% 98%;

  /* Popover */
  --popover: 218 36% 13%;
  --popover-foreground: 210 40% 98%;

  /* Primary (Blue - vibrant against dark) */
  --primary: 213.1 93.9% 67.8%; /* #60a5fa */
  --primary-foreground: 222 47% 7%;

  /* Secondary */
  --secondary: 217.2 32.6% 17.5%; /* #1e293b */
  --secondary-foreground: 210 40% 98%;

  /* Muted */
  --muted: 215.3 25% 26.7%;
  --muted-foreground: 215 20.2% 65.1%;

  /* Accent */
  --accent: 218 36% 13%;
  --accent-foreground: 213.1 93.9% 67.8%;

  /* Destructive */
  --destructive: 350 89.2% 60.2%;
  --destructive-foreground: 210 40% 98%;

  /* Border & Input */
  --border: 215.3 25% 26.7%;
  --input: 215.3 25% 26.7%;
  --ring: 213.1 93.9% 67.8%;

  /* Extended palette - similar to dark but with blue tint */
  --slate-50: 218 36% 13%;
  --slate-100: 217.2 32.6% 17.5%;
  --slate-200: 215.3 25% 26.7%;
  --slate-300: 215.3 19.3% 34.5%;
  --slate-400: 215.4 16.3% 46.9%;
  --slate-500: 215 20.2% 65.1%;
  --slate-600: 212.7 26.8% 83.9%;
  --slate-700: 214.3 31.8% 91.4%;
  --slate-800: 210 40% 96.1%;
  --slate-900: 210 40% 98%;
  --slate-950: 0 0% 100%;

  /* Use same adjustments as dark theme for semantic colors */
  --rose-50: 347 82% 15%;
  --rose-100: 345 79% 26%;
  --rose-200: 346 84% 32%;
  --rose-500: 353.7 89.5% 70.6%;
  --rose-600: 352.7 96.1% 90%;
  --rose-700: 355.6 100% 94.7%;

  --emerald-50: 162 100% 8%;
  --emerald-100: 163 94% 14%;
  --emerald-200: 164 86% 18%;
  --emerald-500: 158 64% 52%;
  --emerald-600: 152.4 76% 80.4%;

  --blue-50: 221 83% 15%;
  --blue-100: 222 87% 24%;
  --blue-200: 223 83% 30%;
  --blue-500: 213.1 93.9% 67.8%;
  --blue-600: 213.3 96.9% 87.3%;

  --amber-50: 31 100% 10%;
  --amber-100: 30 93% 17%;
  --amber-200: 29 93% 22%;
  --amber-500: 47 92% 68%;
  --amber-700: 48 96.6% 76.7%;

  --purple-50: 273 100% 10%;
  --purple-100: 273 94% 18%;
  --purple-200: 272 87% 24%;
  --purple-500: 270.7 91% 65.1%;
  --purple-600: 270.4 95.2% 75.3%;
}

/* ===== COFFEE THEME (Warm Sepia) ===== */
.tasks-timeline-app[data-theme="coffee"] {
  /* Base colors - warm, sepia tones */
  --background: 40 17% 99%; /* #fdfbf7 */
  --foreground: 30 25% 10%; /* #1a1410 - warm dark brown */

  /* Card */
  --card: 40 23% 95%; /* #f5f2eb - warm paper */
  --card-foreground: 30 25% 10%;

  /* Popover */
  --popover: 40 23% 95%;
  --popover-foreground: 30 25% 10%;

  /* Primary (Amber - fits coffee theme) */
  --primary: 37.7 92.1% 38%; /* #b45309 - amber-700 */
  --primary-foreground: 40 17% 99%;

  /* Secondary */
  --secondary: 40 19% 90%; /* #e8e4db - warm gray */
  --secondary-foreground: 30 25% 10%;

  /* Muted */
  --muted: 40 19% 90%;
  --muted-foreground: 30 10% 46%; /* #857a66 - warm muted */

  /* Accent */
  --accent: 40 21% 94%; /* #f7f5f0 */
  --accent-foreground: 37.7 92.1% 38%;

  /* Destructive (Rose - slightly warmer) */
  --destructive: 346.8 77.2% 49.8%;
  --destructive-foreground: 40 17% 99%;

  /* Border & Input */
  --border: 40 17% 80%; /* #d6d0c2 - warm gray border */
  --input: 40 17% 80%;
  --ring: 37.7 92.1% 38%;

  /* Extended palette - warm adjustments */
  --slate-50: 40 21% 94%; /* #f7f5f0 */
  --slate-100: 40 19% 90%; /* #e8e4db */
  --slate-200: 40 17% 80%; /* #d6d0c2 */
  --slate-300: 40 13% 68%; /* #b8b0a0 */
  --slate-400: 40 9% 56%; /* #9c9280 */
  --slate-500: 30 10% 46%; /* #857a66 */
  --slate-600: 30 11% 38%; /* #6e6352 */
  --slate-700: 30 14% 31%; /* #594f41 */
  --slate-800: 30 18% 24%; /* #4a3b32 */
  --slate-900: 30 23% 14%; /* #2b211a */
  --slate-950: 30 25% 10%; /* #1a1410 */

  /* Semantic colors remain similar to light theme but could be warmer */
  /* For now, keeping defaults for stability */
}

/* ============================================================================
   COMPONENT RESETS & GLOBAL STYLES
   ============================================================================ */

.tasks-timeline-app button,
.tasks-timeline-app input[type="text"],
.tasks-timeline-app input[type="search"],
.tasks-timeline-app input[type="number"],
.tasks-timeline-app input[type="date"],
.tasks-timeline-app input[type="datetime-local"] {
  /* Reset to transparent/initial so Tailwind can take over fully */
  background-image: none;
  border: 1px solid transparent;
  padding: 0;
  margin: 0;
  box-shadow: none;
  background-color: transparent;
  color: inherit;
  font-family: inherit;
  appearance: none; /* Removes default OS/Obsidian styling */
}

.tasks-timeline-app {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  scrollbar-gutter: stable;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;

  /* Reset local box-sizing to ensure host app doesn't break layout */
  box-sizing: border-box;
}

/* Global Transitions for smooth theme switching */
.tasks-timeline-app *,
.tasks-timeline-app *::before,
.tasks-timeline-app *::after {
  box-sizing: inherit;
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Custom Scrollbar - Modern Styled */
.tasks-timeline-app ::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
.tasks-timeline-app ::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.2);
  border-radius: 6px;
  margin: 2px;
}
.tasks-timeline-app ::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.4);
  border-radius: 6px;
  border: 2px solid hsl(var(--background));
  transition: all 0.2s ease;
}
.tasks-timeline-app ::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--primary) / 0.6);
  border-color: hsl(var(--muted) / 0.3);
}
.tasks-timeline-app ::-webkit-scrollbar-thumb:active {
  background: hsl(var(--primary) / 0.8);
}

/* Thin Scrollbar for Popovers and Small Containers */
.tasks-timeline-app .custom-scrollbar::-webkit-scrollbar,
.tasks-timeline-app [data-radix-scroll-area-viewport]::-webkit-scrollbar,
.tasks-timeline-app [data-slot="popover-content"] ::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.tasks-timeline-app .custom-scrollbar::-webkit-scrollbar-track,
.tasks-timeline-app [data-radix-scroll-area-viewport]::-webkit-scrollbar-track,
.tasks-timeline-app [data-slot="popover-content"] ::-webkit-scrollbar-track {
  background: transparent;
  margin: 4px;
}
.tasks-timeline-app .custom-scrollbar::-webkit-scrollbar-thumb,
.tasks-timeline-app [data-radix-scroll-area-viewport]::-webkit-scrollbar-thumb,
.tasks-timeline-app [data-slot="popover-content"] ::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 3px;
  border: none;
}
.tasks-timeline-app .custom-scrollbar::-webkit-scrollbar-thumb:hover,
.tasks-timeline-app
  [data-radix-scroll-area-viewport]::-webkit-scrollbar-thumb:hover,
.tasks-timeline-app
  [data-slot="popover-content"]
  ::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* Hide Scrollbar Utility */
.tasks-timeline-app .no-scrollbar::-webkit-scrollbar {
  display: none;
}
.tasks-timeline-app .no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ============================================================================
   TAILWIND V4 THEME CONFIGURATION
   Maps HSL CSS variables to Tailwind utilities
   ============================================================================ */

@theme {
  /* Fonts */
  --font-sans: Inter, sans-serif;
  --font-mono: "JetBrains Mono", monospace;

  /* Core shadcn colors - using hsl() wrapper for Tailwind */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  /* Extended color palette - Tailwind utilities */
  --color-slate-50: hsl(var(--slate-50));
  --color-slate-100: hsl(var(--slate-100));
  --color-slate-200: hsl(var(--slate-200));
  --color-slate-300: hsl(var(--slate-300));
  --color-slate-400: hsl(var(--slate-400));
  --color-slate-500: hsl(var(--slate-500));
  --color-slate-600: hsl(var(--slate-600));
  --color-slate-700: hsl(var(--slate-700));
  --color-slate-800: hsl(var(--slate-800));
  --color-slate-900: hsl(var(--slate-900));
  --color-slate-950: hsl(var(--slate-950));

  --color-rose-50: hsl(var(--rose-50));
  --color-rose-100: hsl(var(--rose-100));
  --color-rose-200: hsl(var(--rose-200));
  --color-rose-500: hsl(var(--rose-500));
  --color-rose-600: hsl(var(--rose-600));
  --color-rose-700: hsl(var(--rose-700));

  --color-emerald-50: hsl(var(--emerald-50));
  --color-emerald-100: hsl(var(--emerald-100));
  --color-emerald-200: hsl(var(--emerald-200));
  --color-emerald-400: hsl(var(--emerald-400));
  --color-emerald-500: hsl(var(--emerald-500));
  --color-emerald-600: hsl(var(--emerald-600));

  --color-blue-50: hsl(var(--blue-50));
  --color-blue-100: hsl(var(--blue-100));
  --color-blue-200: hsl(var(--blue-200));
  --color-blue-300: hsl(var(--blue-300));
  --color-blue-400: hsl(var(--blue-400));
  --color-blue-500: hsl(var(--blue-500));
  --color-blue-600: hsl(var(--blue-600));

  --color-amber-50: hsl(var(--amber-50));
  --color-amber-100: hsl(var(--amber-100));
  --color-amber-200: hsl(var(--amber-200));
  --color-amber-500: hsl(var(--amber-500));
  --color-amber-700: hsl(var(--amber-700));

  --color-purple-50: hsl(var(--purple-50));
  --color-purple-100: hsl(var(--purple-100));
  --color-purple-200: hsl(var(--purple-200));
  --color-purple-400: hsl(var(--purple-400));
  --color-purple-500: hsl(var(--purple-500));
  --color-purple-600: hsl(var(--purple-600));

  /* Legacy bridge - deprecated, use semantic colors instead */
  --color-white: hsl(var(--background));
  --color-paper: hsl(var(--card));

  /* Border radius */
  --radius: var(--radius);
}
